define(["comp/graphicComp","utils/graphicUtils","utils/domUtils","utils/objectUtils","infra/logger"],function(t,i,e,r,n){function o(i){t.call(this,i),p=i.prop.parentId}var p,s=function(t){i.fitElementInContainer(this.div,t,this.prop.fitting),"stretch"!==this.prop.fitting&&i.alignElement(t,this.prop.alignment),e.applyStyle(t,{visibility:"inherit"})},l=function(){var t={elementProperties:{src:this.prop.image},styleProperties:{visibility:"hidden"}};"stretch"===this.prop.fitting&&(t.styleProperties.width="100%",t.styleProperties.height="100%");var r=i.buildImg(t),n=this;return e.bindEvent(r,"load",function(){s.call(n,r)}),r};return o.prototype=new t,o.prototype.internalDraw=function(){t.prototype.internalDraw.call(this),this.div.style.fontSize=0,this.prop.image&&"string"==typeof this.prop.image&&this.div.appendChild(l.call(this))},o.prototype.convertFromPrevFormat=function(){t.prototype.convertFromPrevFormat.call(this),this.prop.assets instanceof Array&&(this.prop.image=this.prop.assets[0])},o.prototype.addProperties=function(){t.prototype.addProperties.call(this),null==this.prop.fitting&&(this.prop.fitting="stretch"),null==this.prop.alignment&&(this.prop.alignment="center")},o.prototype.getDefaultProperty=function(){return o.defaultProperty},o.prototype.getInputSchema=function(){return o.inputSchema},o.inputSchema=r.create(t.inputSchema,{image:"asset",alignment:null,fitting:null}),o.defaultProperty="image",n.log("image component loaded"),o});